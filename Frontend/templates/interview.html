<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Querya - Interview</title>
    <link rel="icon" type="image/jpg" href="static/Chatbot_AI_Favicon.jpg">

    <!-- ✅ Load External CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='interview.css') }}">

    <!-- ✅ Load Required Libraries in Correct Order -->
    <script src="{{ url_for('static', filename='live2d.min.js') }}"></script>
    <script src="{{ url_for('static', filename='live2dcubismcore.js') }}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.0.4/pixi.min.js"></script>
    <script src="https://unpkg.com/pixi-live2d-display/dist/index.min.js"></script>
</head>

<body>
    <div class="container">
        <!-- ✅ Traffic Light with Dynamic Text -->
        <div class="traffic-light">
            <div class="light-container">
                <div class="light red"></div>
                <span class="light-text">AI is Speaking</span>
            </div>
            <div class="light-container">
                <div class="light yellow"></div>
                <span class="light-text">Generating Response</span>
            </div>
            <div class="light-container">
                <div class="light green"></div>
                <span class="light-text">AI is Listening</span>
            </div>
        </div>

        <!-- ✅ Chatbot (Live2D) Centered -->
        <div class="chatbot-container">
            <canvas id="live2dCanvas"></canvas>
        </div>

        <div id="rightPanel">
            <div id="jobSelectionContainer">
                <label for="jobSelection">Job Selection:</label>
                <select id="jobSelection">
                    <option value="" disabled selected>Select a job</option>
                    <option value="Web Developer">Web Developer</option>
                    <option value="Software Developer">Software Developer</option>
                    <option value="Data Analyst">Data Analyst</option>
                    <option value="Data Engineer">Data Engineer</option>
                    <option value="ML Engineer">ML Engineer</option>
                    <option value="System Administrator">System Administrator</option>
                    <option value="Statistician">Statistician</option>
                    <option value="Cloud Support Engineer">Cloud Support Engineer</option>
                    <option value="Python Developer">Python Developer</option>
                    <option value="DevOps">DevOps</option>
                    <option value="System Engineer">System Engineer</option>
                    <option value="AI Engineer">AI Engineer</option>
                </select>
                <p id="job-error-message" style="color: red; display: none;"></p>
                <button id="lockJobButton">Lock Selection</button>
            </div>

            <div id="numQuestionsPanel" style="display: none;">
                <label for="numQuestions">How many questions would you like to be asked?</label>
                <input type="number" id="numQuestions" min="1" max="10">
                <p id="num-error-message" style="color: red; display: none;"></p>
                <button id="lockNumButton">Lock Answer</button>
            </div>
            <div id="questionContainer" style="display: none;">
                <h3>Interview Question</h3>
                <div id="question-container" class="question-box">Your question will appear here...</div>
                <button id="prevQuestion">⬅️ Previous</button>
                <button id="nextQuestion">Next ➡️</button>
            </div>

        </div>

    </div>

    <!-- ✅ Load External JavaScript -->
    <script src="{{ url_for('static', filename='interview.js') }}" defer></script>
</body>

</html>